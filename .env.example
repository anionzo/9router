# 9Router environment contract
# This file reflects actual runtime usage in the current codebase.

# Required
JWT_SECRET=change-me-to-a-long-random-secret
INITIAL_PASSWORD=change-me
DATA_DIR=/var/lib/9router

# Recommended runtime variables
PORT=20128
NODE_ENV=production

# Recommended security and ops variables
API_KEY_SECRET=endpoint-proxy-api-key-secret
MACHINE_ID_SALT=endpoint-proxy-salt
ENABLE_REQUEST_LOGS=false
OBSERVABILITY_ENABLED=true
AUTH_COOKIE_SECURE=false
REQUIRE_API_KEY=false

# Cloud sync variables
# Must point to this running instance so internal sync jobs can call /api/sync/cloud.
# Server-side preferred variables:
BASE_URL=http://localhost:20128
CLOUD_URL=https://9router.com
# Backward-compatible/public variables:
NEXT_PUBLIC_BASE_URL=http://localhost:20128
NEXT_PUBLIC_CLOUD_URL=https://9router.com

# Optional outbound proxy variables for upstream provider calls
# Lowercase variants are also supported: http_proxy, https_proxy, all_proxy, no_proxy
# HTTP_PROXY=http://127.0.0.1:7890
# HTTPS_PROXY=http://127.0.0.1:7890
# ALL_PROXY=socks5://127.0.0.1:7890
# NO_PROXY=localhost,127.0.0.1

# Encrypted database backups to Cloudflare R2
# Backup payload is encrypted with AES-256-GCM before upload.
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=
# Optional; defaults to https://<R2_ACCOUNT_ID>.r2.cloudflarestorage.com
R2_ENDPOINT=
# Optional prefix for objects in bucket
R2_PREFIX=9router/backups/
# Keep only latest N backups after each upload
R2_RETENTION_COUNT=30
# Required for encryption/decryption of backup payload
DB_BACKUP_ENCRYPTION_PASSPHRASE=change-me-to-a-strong-secret

# Currently unused by application runtime (kept as reference)
# INSTANCE_NAME=9router
